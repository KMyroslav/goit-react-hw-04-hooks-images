{"version":3,"sources":["Components/Searchbar/Serachbar.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/modal.js","App.js","Services/fetchImages.js","index.js"],"names":["Searchbar","onQueryUpdate","useState","searchQuery","setSearchQuery","className","onSubmit","e","preventDefault","trim","type","autoComplete","autoFocus","placeholder","onInput","currentTarget","value","ImageGalleryItem","card","toggleModal","src","webformatURL","alt","tags","onClick","largeImageURL","id","ImageGallery","cards","map","el","Button","fetchCards","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","handleBackdropClick","target","window","addEventListener","this","removeEventListener","createPortal","bigPicture","Component","App","setCards","page","setPage","status","setStatus","showModal","setShowModal","setBigPicture","useEffect","fetch","then","r","json","fetchImages","prevState","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","console","log","picture","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.104c7b3d.chunk.js","sourcesContent":["import { useState } from \"react\";\n\nfunction Searchbar({ onQueryUpdate }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onQueryUpdate(searchQuery.trim());\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onInput={(e) => setSearchQuery(e.currentTarget.value)}\n        />\n      </form>\n    </header>\n  );\n}\n\n// class Searchbar extends Component {\n//   state = {\n//     searchQuery: \"\",\n//   };\n\n//   handleChange = (e) => {\n//     this.setState({ searchQuery: e.currentTarget.value });\n//   };\n\n//   handleSubmit = (e) => {\n//     e.preventDefault();\n//     this.props.onQueryUpdate(this.state.searchQuery.trim());\n//     this.setState({ searchQuery: \"\" });\n//   };\n\n//   render() {\n//     return (\n//       <header className=\"Searchbar\">\n//         <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n//           <button type=\"submit\" className=\"SearchForm-button\">\n//             <span className=\"SearchForm-button-label\">Search</span>\n//           </button>\n\n//           <input\n//             className=\"SearchForm-input\"\n//             type=\"text\"\n//             autoComplete=\"off\"\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//             onInput={this.handleChange}\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\nexport default Searchbar;\n","import React from \"react\";\n\nfunction ImageGalleryItem(card, toggleModal) {\n  return (\n    <li className=\"ImageGalleryItem\" key={card.id}>\n      <img\n        src={card.webformatURL}\n        alt={`${card.tags}`}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => toggleModal(card.largeImageURL)}\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ cards, toggleModal }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {cards.map((el) => ImageGalleryItem(el, toggleModal))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","function Button({ fetchCards }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={fetchCards}>\n      Load More\n    </button>\n  );\n}\n\nexport default Button;\n","import { createPortal } from \"react-dom\";\nimport { Component } from \"react\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.toggleModal();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.bigPicture} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import { useState, useEffect } from \"react\";\nimport fetchImages from \"./Services/fetchImages\";\nimport Searchbar from \"./Components/Searchbar/Serachbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./Components/Modal/modal\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(\"idle\");\n  const [showModal, setShowModal] = useState(false);\n  const [bigPicture, setBigPicture] = useState(null);\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    fetchCards();\n    // eslint-disable-next-line\n  }, [searchQuery]);\n\n  const fetchCards = () => {\n    setStatus(\"pending\");\n    fetchImages(searchQuery, page)\n      .then((r) => {\n        setCards((prevState) => [...prevState, ...r.hits]);\n        setPage((prevState) => prevState + 1);\n        setStatus(\"resolved\");\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => console.log(error));\n  };\n\n  const onQueryUpdate = (searchQuery) => {\n    setCards([]);\n    setSearchQuery(searchQuery);\n    setPage(1);\n    setStatus(\"idle\");\n  };\n\n  const toggleModal = (picture) => {\n    setShowModal((prevState) => !prevState);\n    setBigPicture(picture);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onQueryUpdate={onQueryUpdate} />\n      <ImageGallery cards={cards} toggleModal={toggleModal} />\n      {status === \"pending\" && (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      )}\n      {status === \"resolved\" && (\n        <Button searchQuery={searchQuery} page={page} fetchCards={fetchCards} />\n      )}\n      {showModal && <Modal toggleModal={toggleModal} bigPicture={bigPicture} />}\n    </div>\n  );\n}\n\nexport default App;\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst UNIQUE_KEY = \"23035178-c9501c24659a46c37914a5a12\";\n\nexport default function fetchImages(searchQuery, page) {\n  return fetch(\n    `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${UNIQUE_KEY}`\n  ).then((r) => r.json());\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}