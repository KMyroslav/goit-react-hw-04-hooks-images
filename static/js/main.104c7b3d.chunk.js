(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{18:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(5),r=n.n(o),i=(n(18),n(19),n(8)),s=n(3);var u=n(1);var l=function(e){var t=e.onQueryUpdate,n=Object(c.useState)(""),a=Object(s.a)(n,2),o=a[0],r=a[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o.trim()),r("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onInput:function(e){return r(e.currentTarget.value)}})]})})};var d=function(e,t){return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)("img",{src:e.webformatURL,alt:"".concat(e.tags),className:"ImageGalleryItem-image",onClick:function(){return t(e.largeImageURL)}})},e.id)};var j=function(e){var t=e.cards,n=e.toggleModal;return Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return d(e,n)}))})};var b=function(e){var t=e.fetchCards;return Object(u.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load More"})},h=n(9),m=n.n(h),p=n(10),O=n(11),f=n(13),g=n(12),v=document.querySelector("#modal-root"),y=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleKeyDown=function(t){"Escape"===t.code&&e.props.toggleModal()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.toggleModal()},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:this.handleBackdropClick,children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:this.props.bigPicture,alt:""})})}),v)}}]),n}(c.Component),x=y;var w=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),r=Object(s.a)(o,2),d=r[0],h=r[1],p=Object(c.useState)(1),O=Object(s.a)(p,2),f=O[0],g=O[1],v=Object(c.useState)("idle"),y=Object(s.a)(v,2),w=y[0],k=y[1],S=Object(c.useState)(!1),N=Object(s.a)(S,2),C=N[0],M=N[1],F=Object(c.useState)(null),I=Object(s.a)(F,2),E=I[0],B=I[1];Object(c.useEffect)((function(){d&&D()}),[d]);var D=function(){k("pending"),function(e,t){return fetch("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("23035178-c9501c24659a46c37914a5a12")).then((function(e){return e.json()}))}(d,f).then((function(e){a((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),g((function(e){return e+1})),k("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return console.log(e)}))},L=function(e){M((function(e){return!e})),B(e)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{onQueryUpdate:function(e){a([]),h(e),g(1),k("idle")}}),Object(u.jsx)(j,{cards:n,toggleModal:L}),"pending"===w&&Object(u.jsx)(m.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),"resolved"===w&&Object(u.jsx)(b,{searchQuery:d,page:f,fetchCards:D}),C&&Object(u.jsx)(x,{toggleModal:L,bigPicture:E})]})};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.104c7b3d.chunk.js.map